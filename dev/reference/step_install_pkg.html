<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Step: Install packages — step_install_pkg • tic</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- ropensci --><link href="../ropensci.css?nocache=1" rel="stylesheet"><meta property="og:title" content="Step: Install packages — step_install_pkg"><meta property="og:description" content="These steps are useful if your CI run needs additional packages.
Usually they are declared as dependencies in your DESCRIPTION,
but it is also possible to install dependencies manually.
By default, binary versions of packages are installed if possible,
even if the CRAN version is ahead.
A step_install_deps() step installs all package dependencies declared in
DESCRIPTION, using remotes::install_deps().
This includes upgrading outdated packages.
This step can only be used if a DESCRIPTION file is present in the repository
root.
A step_install_cran() step installs one package from CRAN via
install.packages(), but only if it's not already installed.
A step_install_github() step installs one or more packages from GitHub
via remotes::install_github(), the packages are only installed if their
GitHub version is different from the locally installed version."><meta name="twitter:card" content="summary"><meta name="robots" content="noindex"><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css"><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript><!-- End Matomo Code --></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
        <a class="navbar-brand" href="../index.html"><i>tic <small>v0.11.2.9000</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right"><li class="nav-item">
  <a class="nav-link" href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/tic.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-introduction">Introduction</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-introduction">
    <a class="dropdown-item" href="../articles/features.html">Feature Overview</a>
    <a class="dropdown-item" href="../articles/build-lifecycle.html">The CI Build Lifecycle</a>
    <a class="dropdown-item" href="../articles/ci-client-packages.html">CI Client Packages</a>
    <a class="dropdown-item" href="../articles/ci-providers.html">CI Providers</a>
    <a class="dropdown-item" href="../articles/faq.html">FAQ</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-advanced">Advanced</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-advanced">
    <a class="dropdown-item" href="../articles/advanced.html">Advanced Usage</a>
    <a class="dropdown-item" href="../articles/deployment.html">Deployment</a>
    <a class="dropdown-item" href="../articles/custom-steps.html">Custom Steps</a>
    <a class="dropdown-item" href="../articles/updating.html">Updating Templates</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
        <li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/tic/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

    <div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Step: Install packages</h1>
      <small class="dont-index">Source: <a href="https://github.com/ropensci/tic/blob/HEAD/R/steps-install.R" class="external-link"><code>R/steps-install.R</code></a></small>
      <div class="d-none name"><code>step_install_pkg.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These steps are useful if your CI run needs additional packages.
Usually they are declared as dependencies in your <code>DESCRIPTION</code>,
but it is also possible to install dependencies manually.
By default, binary versions of packages are installed if possible,
even if the CRAN version is ahead.</p>
<p>A <code>step_install_deps()</code> step installs all package dependencies declared in
<code>DESCRIPTION</code>, using <code><a href="https://remotes.r-lib.org/reference/install_deps.html" class="external-link">remotes::install_deps()</a></code>.
This includes upgrading outdated packages.</p>
<p>This step can only be used if a DESCRIPTION file is present in the repository
root.</p>
<p>A <code>step_install_cran()</code> step installs one package from CRAN via
<code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code>, but only if it's not already installed.</p>
<p>A <code>step_install_github()</code> step installs one or more packages from GitHub
via <code><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">remotes::install_github()</a></code>, the packages are only installed if their
GitHub version is different from the locally installed version.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">step_install_deps</span><span class="op">(</span>
  repos <span class="op">=</span> <span class="fu"><a href="repo.html">repo_default</a></span><span class="op">(</span><span class="op">)</span>,
  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"pkgType"</span><span class="op">)</span>,
  dependencies <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>

<span class="fu">step_install_cran</span><span class="op">(</span>
  package <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>,
  repos <span class="op">=</span> <span class="fu"><a href="repo.html">repo_default</a></span><span class="op">(</span><span class="op">)</span>,
  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"pkgType"</span><span class="op">)</span>
<span class="op">)</span>

<span class="fu">step_install_github</span><span class="op">(</span>repo <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">...</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"pkgType"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>repos</dt>
<dd><p>CRAN-like repositories to install from, defaults to
<code><a href="repo.html">repo_default()</a></code>.</p></dd>
<dt>type</dt>
<dd><p>Passed on to <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code>. The default avoids
installation from source on Windows and macOS by passing
<code><a href="https://rdrr.io/r/base/Platform.html" class="external-link">.Platform</a>$pkgType</code>.</p></dd>
<dt>dependencies</dt>
<dd><p>Which dependencies do you want to check?
Can be a character vector (selecting from "Depends", "Imports",
"LinkingTo", "Suggests", or "Enhances"), or a logical vector.</p>
<p><code>TRUE</code> is shorthand for "Depends", "Imports", "LinkingTo" and
"Suggests". <code>NA</code> is shorthand for "Depends", "Imports" and "LinkingTo"
and is the default. <code>FALSE</code> is shorthand for no dependencies (i.e.
just check this package, not its dependencies).</p>
<p>The value "soft" means the same as <code>TRUE</code>, "hard" means the same as <code>NA</code>.</p>
<p>You can also specify dependencies from one or more additional fields,
common ones include:</p><ul><li><p>Config/Needs/website - for dependencies used in building the pkgdown site.</p></li>
<li><p>Config/Needs/coverage for dependencies used in calculating test coverage.</p></li>
</ul></dd>
<dt>package</dt>
<dd><p>Package(s) to install</p></dd>
<dt>...</dt>
<dd><p>Passed on to <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code> or <code><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">remotes::install_github()</a></code>.</p></dd>
<dt>repo</dt>
<dd><p>Package to install in the "user/repo" format.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other steps: 
<code><a href="step_add_to_drat.html">step_add_to_drat</a>()</code>,
<code><a href="step_add_to_known_hosts.html">step_add_to_known_hosts</a>()</code>,
<code><a href="step_build_pkgdown.html">step_build_pkgdown</a>()</code>,
<code><a href="step_do_push_deploy.html">step_do_push_deploy</a>()</code>,
<code><a href="step_hello_world.html">step_hello_world</a>()</code>,
<code><a href="step_install_ssh_keys.html">step_install_ssh_keys</a>()</code>,
<code><a href="step_push_deploy.html">step_push_deploy</a>()</code>,
<code><a href="step_run_code.html">step_run_code</a>()</code>,
<code><a href="step_session_info.html">step_session_info</a>()</code>,
<code><a href="step_setup_push_deploy.html">step_setup_push_deploy</a>()</code>,
<code><a href="step_setup_ssh.html">step_setup_ssh</a>()</code>,
<code><a href="step_test_ssh.html">step_test_ssh</a>()</code>,
<code><a href="step_write_text_file.html">step_write_text_file</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="dsl_get.html">dsl_init</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Creating a clean tic stage configuration</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> See <span style="color: #262626; background-color: #DADADA;">`?tic::dsl_get`</span> for details</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="dsl.html">get_stage</a></span><span class="op">(</span><span class="st">"install"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="dsl.html">add_step</a></span><span class="op">(</span><span class="fu">step_install_deps</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="dsl_get.html">dsl_get</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">tic configuration</span> <span style="color: #00BBBB;">───────────────────────────────────────────────────────────</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">──</span> <span style="color: #00BB00;">install</span> <span style="color: #00BB00;">────────────────────────────────────────────────────────────</span> <span style="color: #00BB00;">stage</span> <span style="color: #00BB00;">──</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ▶ step_install_deps()</span>
<span class="r-in"><span class="fu"><a href="dsl_get.html">dsl_init</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Creating a clean tic stage configuration</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> See <span style="color: #262626; background-color: #DADADA;">`?tic::dsl_get`</span> for details</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="dsl.html">get_stage</a></span><span class="op">(</span><span class="st">"install"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="dsl.html">add_step</a></span><span class="op">(</span><span class="fu">step_install_cran</span><span class="op">(</span><span class="st">"magick"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="dsl_get.html">dsl_get</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">tic configuration</span> <span style="color: #00BBBB;">───────────────────────────────────────────────────────────</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">──</span> <span style="color: #00BB00;">install</span> <span style="color: #00BB00;">────────────────────────────────────────────────────────────</span> <span style="color: #00BB00;">stage</span> <span style="color: #00BB00;">──</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ▶ step_install_cran("magick")</span>
<span class="r-in"><span class="fu"><a href="dsl_get.html">dsl_init</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">✔</span> Creating a clean tic stage configuration</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">ℹ</span> See <span style="color: #262626; background-color: #DADADA;">`?tic::dsl_get`</span> for details</span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="dsl.html">get_stage</a></span><span class="op">(</span><span class="st">"install"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span class="r-in">  <span class="fu"><a href="dsl.html">add_step</a></span><span class="op">(</span><span class="fu">step_install_github</span><span class="op">(</span><span class="st">"rstudio/gt"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="dsl_get.html">dsl_get</a></span><span class="op">(</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">tic configuration</span> <span style="color: #00BBBB;">───────────────────────────────────────────────────────────</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">──</span> <span style="color: #00BB00;">install</span> <span style="color: #00BB00;">────────────────────────────────────────────────────────────</span> <span style="color: #00BB00;">stage</span> <span style="color: #00BB00;">──</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ▶ step_install_github("rstudio/gt")</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start bottom-8">
            <div class="col-xs-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg"></div>
            <div class="col-xs-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="http://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="http://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="http://twitter.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-twitter"></div></a>
                        <a href="http://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review Process</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul></div>
                    <div class="col-md-3 col-sm-4">
                        <ul><h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul></div>
                    <div class="col-md-2 col-sm-4">
                        <ul><h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul></div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" target="_blank" class="external-link">NumFOCUS</a></p>
                        <a href="http://numfocus.org" target="_blank" class="external-link"></a>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->

    </footer></div>

  

  

  </body></html>

